language: python
python:
- '3.4'
- '3.5'
- '3.6'
branches:
  only:
  - master
  - VER3-393_build
env:
  global:
  - EC2_SSH_KEY=glimmpsev3uat.pem GIT_SSH_KEY=id_rsa EC2_URL=ec2-54-161-9-34.compute-1.amazonaws.com
    REPO=543872078551.dkr.ecr.us-east-1.amazonaws.com IMAGE=glimmpsev3back GIT_MAIL=alasdair.macleod@ufl.edu
    GIT_USER=alasdair-macleod GIT_REPO=DemoAppBack
  - secure: PE6e1ROtzQj+cCQgpoLZnQVtkVH3ZWIjrUF7RH8RXs8qZgvgLNsfJtxLrIURbOAfdNHQ+J15Wj0S7KbYsn5HS/wp0snoqoPeMDuWGN3ifU55wyz3SGJfnDZU/xCmwT04yY+3DO6kWXxzPv34SOlNnCejSmWMET6HmmJEbjLMgR1BIw/OE8YPWIn7O/2DBYMaeJuQNf7j9LBE5cxRbcmABFlj7nJfhvt6Op8IBDHo+FSHJlU4vm+U8e75tpzRDOHAnIO6EwhgJLkysaQdQt6S9OnCMxHVa2fgqk7INid6meRFMeMkRyztgLW6uPcPjO8algUzvMz/pAhQOVXLPO/VaivF0x7ITWLTfJyEzsx///SNABqL1jaujCAYcMhpDglX/I5pkFb/nq3jKkIX3qzNSClHizFRDdB+dSXcdqGX7D9qY0ykXDHjy5zsDJmbhT5puHBk0WD4l56A5M2K78VtpCxqIceD0Df5W3CYaG4eX03RDQTp/ZO9Ix3g09lA8eNGwYf9eqFkP+7Ya2vxF2dJzcmZQEuUtFjAVA7/C55yKh3IiZCf0Rva7nVUkbzIqJMaTLdsqvL6iXz2m/Oy85Z/YA0Xr6tEIAdFQUdryvca5H2mtziK3nKj/T1whmOtvQay1rsxjqpSjmD7ObjUGw29zYhR9UjPBTIX3DhbTq3/F3E=
  - secure: JFOMUmXuBU6VIbukottr61Pe4c53qC2DWnHArlngKvcicWLj/dZv5/sBMS0dhIi4WoM+Nk8/LUR7kxdrrEOsGWMJKIhEil9pOceIeWckjkjfrvcmL3mPpL+60+Y7aW+NeeUoK854fimbwdg1Y4hBBOPUlDrHT0m0bJS3klpPhU4sYnLcXjF2h3/zWnUdd2BitqymRRnKE51fw61tIk5hiyRTg5NQK3wnC3i0AixIVVuWze0z9klDNiFtU1d2gZysi33krGwD04+bSFlTr08i+WAo52aG/lGuheYC5Au/ieyUfzyM1VnMCsl2HL/yMOtF1v9Ecl6tZxS7cZS6W7KcKIrVSUtGu6opt/eq6gKYyxo+HL1NYPoN0cpbghts+zlgtqWokeDCG9GHLLwC8fEuyOLCiJhvOo0optSjG6ARkrBiQzTRZ9QPPFQ4Ml1brPrAthuJhGi3EJQWO43jzS3WgElrrd+ufY/yGh3DSQ65b3FWCqR+Qp6K7pvoF3yK53exS5WyB1/mxwUUQHOeLvTkjVIPLaGtR8TBJI50lRGyqTz2bKo/Sa9kgxLlENXs/CTOdkG3lxXR5LMgMprp2CxuFeDPa2Rrv1+XVkRpih7ealGsDUdT8YvCRDyhufLBoJTXvWtq4jJniLLrX4eEx+svT63MctlBt7jpbAMUl542Tss=
jobs:
  include:
    - stage: test
      install:
      - sudo apt-get update
      - wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh;
      - bash miniconda.sh -b -p $HOME/miniconda
      - export PATH="$HOME/miniconda/bin:$PATH"
      - hash -r
      - conda config --set always_yes yes --set changeps1 no
      - conda update -q conda
      - conda info -a
      - conda create -q -n tests-environment python=$TRAVIS_PYTHON_VERSION scipy
      - source activate tests-environment
      - python setup.py install
      script:
      - pwd
      - python -m unittest discover .
